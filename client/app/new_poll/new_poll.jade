div(ng-include='"components/navbar/navbar.html"')

.container
  div(ng-model='poll')
    h1(inline-text-editor contenteditable="true" ng-model='poll.name')
    md-card(ng-repeat='q in poll.questions track by $index')
      md-card-title
        md-card-title-text
          span.md-headline Question nÂ°{{$index}}
      md-card-actions
        md-button.md-button-icon(ng-click='addAnswer(q)')
          span.glyphicon.glyphicon-plus
          | Add answer
        md-button.md-button-icon(ng-click='move($index, -1)')
          span.glyphicon.glyphicon-chevron-up
          | Move up
        md-button.md-button-icon(ng-click='move($index, 1)')
          span.glyphicon.glyphicon-chevron-down
          | Move down
      md-card-content
        p(inline-text-editor contenteditable="true" ng-model='q.question')
        div(ng-repeat='answer in q.answers track by $index' layout='row' layout-wrap)
          div(flex)
            input(type="radio" ng-model='q.answer' ng-value='$index')
            span.inline(inline-text-editor contenteditable="true" ng-model='q.answers[$index]')
            .pull-right
              a.button-icon(ng-click='moveAnswer(q, $index, -1)' aria-label='move answer up')
                span.glyphicon.glyphicon-chevron-up
              a.button-icon(ng-click='moveAnswer(q, $index, 1)' aria-label='move answer down')
                span.glyphicon.glyphicon-chevron-down
              a.button-icon.trash(ng-click='deleteAnswer(q, $index)' aria-label='delete answer')
                span.glyphicon.glyphicon-trash
    button.btn.btn-primary(ng-controller='SubmitPollCtrl' ng-click='save()') {{ buttonText }}
.footer
  | Foo bar
